<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <script type="application/javascript">
    function draw() {
      var canvas = document.getElementById("canvas");
      if (canvas.getContext) {
        var ctx = canvas.getContext("2d");
          
        ctx.fillStyle = "rgb(162,115,164)";
       ctx.fillRect (0, 0, 320, 320);
      }
          
                var map = [];
                  for (var x = 0; x < 10; x++) {
                        map[x] = [];
        for (var y = 0; y < 10; y++) 
                map[x][y] = {'x':x, 'y':y, 'wall':0};                      
            }

    
              for(var licznik=0; licznik<=15; licznik++)
                    {
                      
          var x = Math.floor(((Math.random() * 319) + 0)/32);
          var y = Math.floor(((Math.random() * 319) + 0)/32); 
                        
                     
           ctx.fillStyle = "rgb(0,0,0)";
        ctx.fillRect (x*32, y*32, 32, 32);
                         map[x][y] = {'x':x, 'y':y, 'wall':1};
                            

                    }
              console.log(map[x][y]);
              var start = {};
              while(map[x][y].wall==1)
                  {
        x = Math.floor(((Math.random() * 319) + 0)/32);
        y = Math.floor(((Math.random() * 319) + 0)/32); 
                  }
              ctx.fillStyle = "rgb(230,255,0)";
              ctx.fillRect (x*32, y*32, 32, 32);
             map[x][y] = {'x':start.x, 'y':start.y, 'wall':2};
              
              var end = {};
              end.x = 1;
              end.y = 1;
                ctx.fillStyle = "rgb(51,0,255)";
              ctx.fillRect (end.x*32, end.y*32, 32, 32);
             map[x][y] = {'x':end.x, 'y':end.y, 'wall':3};
              
              
          }
      
          function heuristic(pos0, pos1) {
        var dlX = Math.abs(pos1.x - pos0.x);
        var dlY = Math.abs(pos1.y - pos0.y);
     var length = Math.floor(Math.sqrt((dlX * dlX) + (dlY * dlY)));
        return length;      
      
          }
      
     // draw();
      
    function neighbors(map, node) {
        
        var position = [];
        x = node.x;
        y = node.y;
        
         if (map[x - 1][y]) {
        position.push(map[x - 1][y]);
        }
        if (map[x + 1][y]) {
            position.push(map[x + 1][y]);
        }
        if (map[x][y - 1]) {
            position.push(map[x][y - 1]);
        }
        if (map[x][y + 1]) {
            pisition.push(map[x][y + 1]);
        }
        
        return position;
    }
      
      function pathFinding(map, start, end) {
          
          var open = [];
          var closed = [];
          
          open.push(start);
          var current = open(start);
          current.f = 0;
          
          
          var neighbors = neighbors(map, current)
          
          	for(var i=0; i<neighbors.length;i++) {
				var neighbor = neighbors[i];
				if(closed.neighbor || neighbor.wall==1) {
					continue;
				}
                
            var gscore = current.f+1;  
            var hscore = heuristic(neighbor, end);
             var fscore = gscore + hscore;
                current = open.pop();
                
                
            }
      }

                
    
  </script>
 </head>
 <body>
     <p onclick="draw()">Kliknij!</p>

   <canvas id="canvas" width="320" height="320">
</canvas>
 </body>
</html>