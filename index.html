<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <script type="application/javascript">
    function draw() {
      var canvas = document.getElementById("canvas");
      if (canvas.getContext) {
        var ctx = canvas.getContext("2d");
          
        ctx.fillStyle = "rgb(162,115,164)";
       ctx.fillRect (0, 0, 320, 320);
      }
          
          drawwalls();
        
       
      
          function drawwalls() {
              
                var map = [];
                  for (var x = 0; x < 10; x++) {
                        map[x] = [];
        for (var y = 0; y < 10; y++) 
                map[x][y] = {'x':x, 'y':y, 'wall':0};                      
            }

    
              for(var licznik=0; licznik<=15; licznik++)
                    {
                      
          var x = Math.floor(((Math.random() * 320) + 1)/32);
          var y = Math.floor(((Math.random() * 320) + 1)/32); 
                        
                     
           ctx.fillStyle = "rgb(0,0,0)";
        ctx.fillRect (x*32, y*32, 32, 32);
                         map[x][y] = {'x':x, 'y':y, 'wall':1};
                            
                 /*  var licznikWall=0;  
             while((licznik==15) && (licznikWall<=30))
                            {
          x = Math.floor(((Math.random() * 320) + 1)/32);
          y = Math.floor(((Math.random() * 320) + 1)/32);
                     licznikWall++;
                                if(map[x][y].wall=0)
                                    {
                                        ctx.fillStyle = "rgb(10,50,60)";
                                        ctx.fillRect (x*32, y*32, 32, 32);
                                        map[x][y] = {'x':x, 'y':y, 'wall':1};
                                        break;
                                    }
                            }*/
                    }
              console.log(map[x][y]);
              var start = {};
            //  var licznikWall = 0;
              while(map[x][y].wall==1)
                  {
        x = Math.floor(((Math.random() * 320) + 1)/32);
        y = Math.floor(((Math.random() * 320) + 1)/32); 
                  }
              ctx.fillStyle = "rgb(10,50,60)";
              ctx.fillRect (x*32, y*32, 32, 32);
             map[x][y] = {'x':start.x, 'y':start.y, 'wall':1};
              
          }
    }
            
    
    
  </script>
 </head>
 <body>
     <p onclick="draw()">Kliknij!</p>

   <canvas id="canvas" width="320" height="320">
</canvas>
 </body>
</html>